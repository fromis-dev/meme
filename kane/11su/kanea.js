const _0x2a255e=_0x5753;(function(_0x1dd933,_0x3acaab){const _0x168734=_0x5753,_0x1b693e=_0x1dd933();while(!![]){try{const _0x4b52dc=-parseInt(_0x168734(0x121))/0x1*(-parseInt(_0x168734(0x14d))/0x2)+-parseInt(_0x168734(0x166))/0x3+parseInt(_0x168734(0x118))/0x4+-parseInt(_0x168734(0x112))/0x5+parseInt(_0x168734(0x15f))/0x6*(parseInt(_0x168734(0x108))/0x7)+-parseInt(_0x168734(0x105))/0x8*(-parseInt(_0x168734(0x11f))/0x9)+-parseInt(_0x168734(0x138))/0xa;if(_0x4b52dc===_0x3acaab)break;else _0x1b693e['push'](_0x1b693e['shift']());}catch(_0x2ba328){_0x1b693e['push'](_0x1b693e['shift']());}}}(_0x43ed,0x56bd0));import{sounds}from'./modules/sounds.js';const canvas=document['getElementById']('gameCanvas'),ctx=canvas[_0x2a255e(0x15d)]('2d'),rows=0xa,cols=0x11,squareSize=0x32,padding=squareSize;canvas[_0x2a255e(0x14a)]=cols*squareSize+padding*0x2,canvas[_0x2a255e(0x116)]=rows*squareSize+padding*0x2;let scale=0x1;function _0x5753(_0x151059,_0x5d3b05){const _0x43ede3=_0x43ed();return _0x5753=function(_0x5753c2,_0x12f0b3){_0x5753c2=_0x5753c2-0xfa;let _0x54d1fd=_0x43ede3[_0x5753c2];return _0x54d1fd;},_0x5753(_0x151059,_0x5d3b05);}const link=document['querySelector'](_0x2a255e(0x11b));link['addEventListener']('click',()=>{const _0x2d4dc1=_0x2a255e;document[_0x2d4dc1(0x14e)](_0x2d4dc1(0x127))[_0x2d4dc1(0x123)][_0x2d4dc1(0x126)]=_0x2d4dc1(0x10b),sounds[_0x2d4dc1(0x163)][_0x2d4dc1(0x125)](),setTimeout(()=>{const _0x145c30=_0x2d4dc1;document[_0x145c30(0x14e)](_0x145c30(0x127))['style'][_0x145c30(0x145)]=0x0,document['querySelector'](_0x145c30(0x144))[_0x145c30(0x12c)][_0x145c30(0x15c)](_0x145c30(0xfb)),document[_0x145c30(0x14e)](_0x145c30(0x144))['style'][_0x145c30(0x145)]=0x0,document[_0x145c30(0x14e)](_0x145c30(0x160))[_0x145c30(0xfe)]='',document[_0x145c30(0x14e)]('#link')['innerText']='';},0x3e8),setTimeout(()=>{const _0x5589f1=_0x2d4dc1;document[_0x5589f1(0x14e)]('#overlay')[_0x5589f1(0x123)][_0x5589f1(0x145)]=0x1,document['querySelector'](_0x5589f1(0x127))[_0x5589f1(0x123)][_0x5589f1(0x145)]=0x0,document[_0x5589f1(0x14e)]('#intro>img')[_0x5589f1(0x12c)][_0x5589f1(0x15c)](_0x5589f1(0x120));},0x44c),setTimeout(()=>{const _0x4746cb=_0x2d4dc1;document[_0x4746cb(0x14e)](_0x4746cb(0x144))[_0x4746cb(0x123)]['display']=_0x4746cb(0x131),document[_0x4746cb(0x14e)]('#intro')[_0x4746cb(0x123)][_0x4746cb(0x147)]=_0x4746cb(0x131);},0x2328);});function updateScale(){const _0x4862e0=_0x2a255e;scale=Math['min'](0x1,window[_0x4862e0(0x10a)]/canvas[_0x4862e0(0x14a)],window[_0x4862e0(0x137)]/canvas[_0x4862e0(0x116)]),canvas[_0x4862e0(0x123)][_0x4862e0(0x126)]=_0x4862e0(0x12a)+scale+')',canvas[_0x4862e0(0x123)][_0x4862e0(0x134)]=_0x4862e0(0x148),console['log'](window[_0x4862e0(0x10a)]>window[_0x4862e0(0x137)]?'row':'column');const _0x18dc85=document['querySelector'](_0x4862e0(0x14c));_0x18dc85[_0x4862e0(0x123)][_0x4862e0(0x124)]=window[_0x4862e0(0x10a)]>window[_0x4862e0(0x137)]?_0x4862e0(0x14b):_0x4862e0(0x142);if(window[_0x4862e0(0x137)]<0x1c2){const _0x3232c6=document[_0x4862e0(0x14e)](_0x4862e0(0x141));_0x3232c6[_0x4862e0(0x123)][_0x4862e0(0x147)]=_0x4862e0(0x11a),canvas[_0x4862e0(0x123)][_0x4862e0(0x126)]=_0x4862e0(0x168),canvas[_0x4862e0(0x123)]['transformOrigin']=_0x4862e0(0xfa);}}window['addEventListener'](_0x2a255e(0x136),updateScale),updateScale();function getEventPos(_0x10dd5d){const _0x590be6=_0x2a255e,_0x1fa75b=canvas[_0x590be6(0x100)](),_0x587f4b=canvas['width']/_0x1fa75b[_0x590be6(0x14a)],_0x35dc98=canvas[_0x590be6(0x116)]/_0x1fa75b['height'];return _0x10dd5d[_0x590be6(0x106)]?{'x':(_0x10dd5d['touches'][0x0][_0x590be6(0x154)]-_0x1fa75b[_0x590be6(0x15b)])*_0x587f4b,'y':(_0x10dd5d[_0x590be6(0x106)][0x0][_0x590be6(0x128)]-_0x1fa75b['top'])*_0x35dc98}:{'x':(_0x10dd5d[_0x590be6(0x154)]-_0x1fa75b[_0x590be6(0x15b)])*_0x587f4b,'y':(_0x10dd5d[_0x590be6(0x128)]-_0x1fa75b[_0x590be6(0xfa)])*_0x35dc98};}const offsetX=padding,offsetY=padding;let grid,isDragging,startX,startY,currentX,currentY,selectedSquares,timeLeft,timerId;function _0x43ed(){const _0x2e9d83=['score','display','center','strokeStyle','width','row','#info','3874JZSTvC','querySelector','active','random','Game\x20URL\x20copied\x20to\x20clipboard!','fillText','px\x20Arial','clientX','재수하기','strokeRect','body','getElementById','value','min','left','add','getContext','catch','11604eBmpzx','#error','location','Failed\x20to\x20copy\x20URL:\x20','intro','textBaseline','reduce','736815srbCYu','#b0e57c','scale(0.5)','#fff','top','target','#overlay\x20>\x20.container\x20>\x20#overlayMessage','textContent','innerText','Service\x20Worker\x20registered:','getBoundingClientRect','log','grey','addEventListener','draw','886120MGuWHY','touches','from','2296rQpNjM','error','innerWidth','translateX(0)','#000','click','fillStyle','serviceWorker','preventDefault','textAlign','2123130bLqLPp','currentTime','length','includes','height','toString','1582440YmHhYS','writeText','block','#link','flat','over','clipboard','9EbsqRs','mte','81gpuEht','mouseup','style','flexDirection','play','transform','#intro','clientY','#ddd','scale(','/sounds/nice','classList','push','then','getCenter','href','none','mousedown','filter','transformOrigin','timer','resize','innerHeight','2721130hYEVBy','#copyGameUrl','bgm','forEach','register','floor','Service\x20Worker\x20registration\x20failed:','touchmove','size','#container','column','lineWidth','#pageNotFound','opacity'];_0x43ed=function(){return _0x2e9d83;};return _0x43ed();}_0x2a255e(0x10f)in navigator&&navigator[_0x2a255e(0x10f)][_0x2a255e(0x13c)]('/service-worker.js')['then'](_0x3c3b78=>console[_0x2a255e(0x101)](_0x2a255e(0xff),_0x3c3b78))[_0x2a255e(0x15e)](_0xfd9b3a=>console[_0x2a255e(0x101)](_0x2a255e(0x13e),_0xfd9b3a));function startGame(){const _0x5952f0=_0x2a255e,_0x5c188e=document[_0x5952f0(0x14e)](_0x5952f0(0x144));_0x5c188e['style'][_0x5952f0(0x147)]=_0x5952f0(0x131),overlay[_0x5952f0(0x123)][_0x5952f0(0x147)]=_0x5952f0(0x131),initGame();}function initGame(){const _0x3b04a5=_0x2a255e;grid=Array[_0x3b04a5(0x107)]({'length':rows},(_0x2570af,_0x1567ce)=>Array[_0x3b04a5(0x107)]({'length':cols},(_0x5640a7,_0x3ef672)=>new Square(offsetX+_0x3ef672*squareSize,offsetY+_0x1567ce*squareSize,squareSize))),timeLeft=0x78,isDragging=![],selectedSquares=[],drawGrid(),updateScore(),updateTimer(),sounds[_0x3b04a5(0x13a)]['loop']=!![],sounds[_0x3b04a5(0x13a)][_0x3b04a5(0x125)]();}class Square{constructor(_0x262cbe,_0x25c2fc,_0x11aa98){const _0x1689cc=_0x2a255e;this['x']=_0x262cbe,this['y']=_0x25c2fc,this[_0x1689cc(0x140)]=_0x11aa98,this[_0x1689cc(0x159)]=Math[_0x1689cc(0x13d)](Math[_0x1689cc(0x150)]()*0x9)+0x1,this['active']=!![];}[_0x2a255e(0x12f)](){const _0x5aa62d=_0x2a255e;return{'cx':this['x']+this[_0x5aa62d(0x140)]/0x2,'cy':this['y']+this[_0x5aa62d(0x140)]/0x2};}[_0x2a255e(0x104)](_0x5520f2='#fff'){const _0x1c9faf=_0x2a255e;ctx[_0x1c9faf(0x10e)]=_0x5520f2,ctx['fillRect'](this['x'],this['y'],this[_0x1c9faf(0x140)],this['size']),ctx[_0x1c9faf(0x149)]='#000',ctx[_0x1c9faf(0x156)](this['x'],this['y'],this[_0x1c9faf(0x140)],this['size']),this[_0x1c9faf(0x14f)]&&(ctx[_0x1c9faf(0x10e)]=_0x1c9faf(0x10c),ctx['font']=this[_0x1c9faf(0x140)]/0x2+_0x1c9faf(0x153),ctx[_0x1c9faf(0x111)]=_0x1c9faf(0x148),ctx[_0x1c9faf(0x164)]='middle',ctx[_0x1c9faf(0x152)](this[_0x1c9faf(0x159)],this['x']+this[_0x1c9faf(0x140)]/0x2,this['y']+this[_0x1c9faf(0x140)]/0x2));}}function drawGrid(_0xf677dd=[],_0x38b9b5=_0x2a255e(0x169)){const _0x2f961c=_0x2a255e;ctx['clearRect'](0x0,0x0,canvas[_0x2f961c(0x14a)],canvas[_0x2f961c(0x116)]),grid[_0x2f961c(0x13b)](_0x22900d=>_0x22900d['forEach'](_0x1f889e=>{const _0x3f1514=_0x2f961c,_0x18cb6e=_0xf677dd[_0x3f1514(0x115)](_0x1f889e);_0x1f889e['draw'](_0x18cb6e?_0x38b9b5:_0x3f1514(0x169));}));}function updateScore(){const _0x3d2611=_0x2a255e,_0x408888=grid[_0x3d2611(0x11c)]()[_0x3d2611(0x133)](_0xe782c7=>!_0xe782c7['active'])[_0x3d2611(0x114)];document['getElementById'](_0x3d2611(0x146))[_0x3d2611(0xfd)]=_0x408888+'\x20수';}function updateTimer(){const _0x34ce3e=_0x2a255e,_0xbb5951=Math[_0x34ce3e(0x13d)](timeLeft/0x3c),_0x462261=timeLeft%0x3c;document[_0x34ce3e(0x158)](_0x34ce3e(0x135))[_0x34ce3e(0xfd)]='시간:\x20'+_0xbb5951+':'+_0x462261[_0x34ce3e(0x117)]()['padStart'](0x2,'0');if(timeLeft>0x0)timeLeft--,setTimeout(updateTimer,0x3e8);else{const _0x2f2ae6=grid[_0x34ce3e(0x11c)]()[_0x34ce3e(0x133)](_0x37ae5f=>!_0x37ae5f['active'])[_0x34ce3e(0x114)],_0x1766b8=document[_0x34ce3e(0x14e)](_0x34ce3e(0xfc));document[_0x34ce3e(0x14e)]('#startBtn')[_0x34ce3e(0xfe)]=_0x34ce3e(0x155),_0x1766b8[_0x34ce3e(0xfe)]=_0x2f2ae6+'\x20수',overlay['style'][_0x34ce3e(0x147)]='flex',sounds[_0x34ce3e(0x13a)]['pause'](),sounds[_0x34ce3e(0x13a)][_0x34ce3e(0x113)]=0x0,sounds[_0x34ce3e(0x11d)]['play']();}}function handleStart(_0x5552be){const _0x1e6b17=_0x2a255e;_0x5552be[_0x1e6b17(0x110)](),isDragging=!![];const _0x18d820=getEventPos(_0x5552be);startX=_0x18d820['x'],startY=_0x18d820['y'];}function handleMove(_0x4e5298){const _0xb36342=_0x2a255e;if(!isDragging)return;const _0x156f2e=getEventPos(_0x4e5298);currentX=_0x156f2e['x'],currentY=_0x156f2e['y'];const _0x5a0155=Math['min'](startX,currentX),_0x1eeb68=Math['max'](startX,currentX),_0x3e9a5d=Math[_0xb36342(0x15a)](startY,currentY),_0x310f81=Math['max'](startY,currentY);let _0x3efd45=0x0;selectedSquares=[],grid[_0xb36342(0x13b)](_0x262e31=>_0x262e31[_0xb36342(0x13b)](_0x3f7d04=>{const _0x5ab273=_0xb36342,{cx:_0x419496,cy:_0x333da4}=_0x3f7d04[_0x5ab273(0x12f)]();_0x419496>=_0x5a0155&&_0x419496<=_0x1eeb68&&_0x333da4>=_0x3e9a5d&&_0x333da4<=_0x310f81&&_0x3f7d04[_0x5ab273(0x14f)]&&(selectedSquares[_0x5ab273(0x12d)](_0x3f7d04),_0x3efd45+=_0x3f7d04['value']);}));const _0x3996cc=_0x3efd45===0xa?_0xb36342(0x167):_0xb36342(0x129);drawGrid(selectedSquares,_0x3996cc),ctx[_0xb36342(0x149)]=_0xb36342(0x102),ctx[_0xb36342(0x143)]=0x2,ctx['strokeRect'](startX,startY,currentX-startX,currentY-startY);}function handleEnd(){const _0xd72bdd=_0x2a255e;isDragging=![];let _0x1d1099=selectedSquares[_0xd72bdd(0x165)]((_0x26518d,_0x5b3ece)=>_0x26518d+_0x5b3ece[_0xd72bdd(0x159)],0x0);if(_0x1d1099===0xa){selectedSquares[_0xd72bdd(0x13b)](_0x31658a=>_0x31658a[_0xd72bdd(0x14f)]=![]),updateScore();const _0x23f8c6=Math[_0xd72bdd(0x13d)](Math[_0xd72bdd(0x150)]()*0x4)+0x1,_0x12088a=new Audio(_0xd72bdd(0x12b)+_0x23f8c6+'.mp3');_0x12088a[_0xd72bdd(0x125)]();}drawGrid();}canvas[_0x2a255e(0x103)](_0x2a255e(0x132),handleStart),canvas[_0x2a255e(0x103)]('mousemove',handleMove),canvas[_0x2a255e(0x103)](_0x2a255e(0x122),handleEnd),canvas[_0x2a255e(0x103)]('touchstart',handleStart),canvas['addEventListener'](_0x2a255e(0x13f),handleMove),canvas[_0x2a255e(0x103)]('touchend',handleEnd),document[_0x2a255e(0x157)][_0x2a255e(0x103)]('touchmove',_0x3d1d21=>{const _0x2e2014=_0x2a255e;_0x3d1d21[_0x2e2014(0x110)]();},{'passive':![]});function copyGameUrl(){const _0x2df17d=_0x2a255e,_0x2f314f=window[_0x2df17d(0x161)][_0x2df17d(0x130)];navigator[_0x2df17d(0x11e)][_0x2df17d(0x119)](_0x2f314f)[_0x2df17d(0x12e)](()=>{const _0x364067=_0x2df17d;alert(_0x364067(0x151));})[_0x2df17d(0x15e)](_0x59e61c=>{const _0x4e6e14=_0x2df17d;console[_0x4e6e14(0x109)](_0x4e6e14(0x162),_0x59e61c);});}const startBtn=document['querySelector']('#startBtn');startBtn[_0x2a255e(0x103)]('click',()=>{startGame();});const copyGameBtn=document['querySelector'](_0x2a255e(0x139));copyGameBtn[_0x2a255e(0x103)](_0x2a255e(0x10d),()=>{copyGameUrl();});
