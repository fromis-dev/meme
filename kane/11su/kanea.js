const _0x4793e1=_0xade6;(function(_0x32cd05,_0x47c9fa){const _0x161eef=_0xade6,_0x7b512a=_0x32cd05();while(!![]){try{const _0x4745e7=-parseInt(_0x161eef(0x122))/0x1*(-parseInt(_0x161eef(0xcc))/0x2)+-parseInt(_0x161eef(0x132))/0x3+parseInt(_0x161eef(0xdd))/0x4+parseInt(_0x161eef(0x108))/0x5+-parseInt(_0x161eef(0xf9))/0x6+-parseInt(_0x161eef(0x127))/0x7+parseInt(_0x161eef(0xf3))/0x8;if(_0x4745e7===_0x47c9fa)break;else _0x7b512a['push'](_0x7b512a['shift']());}catch(_0x55f4b4){_0x7b512a['push'](_0x7b512a['shift']());}}}(_0x5cd3,0x4b810));import{sounds}from'./modules/sounds.js';const canvas=document[_0x4793e1(0x118)](_0x4793e1(0xf7)),ctx=canvas[_0x4793e1(0xd7)]('2d'),rows=0xa,cols=0x11,squareSize=0x32,padding=squareSize;canvas['width']=cols*squareSize+padding*0x2,canvas[_0x4793e1(0xfb)]=rows*squareSize+padding*0x2;let scale=0x1;const link=document[_0x4793e1(0xd3)](_0x4793e1(0xf1));link['addEventListener'](_0x4793e1(0x113),()=>{const _0x241776=_0x4793e1;document[_0x241776(0xd3)]('#intro')[_0x241776(0xfc)][_0x241776(0xf4)]='translateX(0)',sounds['intro'][_0x241776(0xd9)](),setTimeout(()=>{const _0x25e71f=_0x241776;document[_0x25e71f(0xd3)](_0x25e71f(0xff))[_0x25e71f(0xfc)][_0x25e71f(0x123)]=0x0,document[_0x25e71f(0xd3)](_0x25e71f(0x10a))[_0x25e71f(0xe5)][_0x25e71f(0x10d)]('target'),document[_0x25e71f(0xd3)]('#pageNotFound')[_0x25e71f(0xfc)][_0x25e71f(0x123)]=0x0,document[_0x25e71f(0xd3)](_0x25e71f(0x10e))[_0x25e71f(0xf0)]='',document[_0x25e71f(0xd3)](_0x25e71f(0xf1))[_0x25e71f(0xf0)]='';},0x3e8),setTimeout(()=>{const _0x313b28=_0x241776;document[_0x313b28(0xd3)](_0x313b28(0xe7))[_0x313b28(0xfc)][_0x313b28(0x123)]=0x1,document['querySelector'](_0x313b28(0xff))[_0x313b28(0xfc)]['opacity']=0x0,document[_0x313b28(0xd3)](_0x313b28(0xe8))[_0x313b28(0xe5)][_0x313b28(0x10d)](_0x313b28(0xce));},0x44c),setTimeout(()=>{const _0x2c2c4b=_0x241776;document[_0x2c2c4b(0xd3)](_0x2c2c4b(0x10a))[_0x2c2c4b(0xfc)][_0x2c2c4b(0xfe)]='none',document[_0x2c2c4b(0xd3)](_0x2c2c4b(0xff))[_0x2c2c4b(0xfc)]['display']='none';},0x2328);});function updateScale(){const _0x23c28f=_0x4793e1;scale=Math[_0x23c28f(0xf5)](0x1,window[_0x23c28f(0x12d)]/canvas['width'],window[_0x23c28f(0xfa)]/canvas['height']),canvas[_0x23c28f(0xfc)]['transform']='scale('+scale+')',canvas[_0x23c28f(0xfc)]['transformOrigin']=_0x23c28f(0x120),console[_0x23c28f(0x12f)](window[_0x23c28f(0x12d)]>window[_0x23c28f(0xfa)]?_0x23c28f(0xfd):_0x23c28f(0x117));const _0x34f3d9=document['querySelector'](_0x23c28f(0xcb));_0x34f3d9[_0x23c28f(0xfc)][_0x23c28f(0x136)]=window[_0x23c28f(0x12d)]>window['innerHeight']?_0x23c28f(0xfd):_0x23c28f(0x117);if(window['innerHeight']<0x1c2){const _0x3b29c3=document['querySelector']('#container');_0x3b29c3[_0x23c28f(0xfc)][_0x23c28f(0xfe)]=_0x23c28f(0xf6),canvas[_0x23c28f(0xfc)][_0x23c28f(0xf4)]='scale(0.5)',canvas[_0x23c28f(0xfc)][_0x23c28f(0x105)]='top';}}window[_0x4793e1(0x11d)]('resize',updateScale),updateScale();function getEventPos(_0x550dee){const _0x535788=_0x4793e1,_0x2df1bc=canvas[_0x535788(0xcf)](),_0x44d14a=canvas['width']/_0x2df1bc[_0x535788(0x135)],_0x1ac3fd=canvas[_0x535788(0xfb)]/_0x2df1bc[_0x535788(0xfb)];return _0x550dee[_0x535788(0xd1)]?{'x':(_0x550dee[_0x535788(0xd1)][0x0][_0x535788(0x110)]-_0x2df1bc[_0x535788(0xe0)])*_0x44d14a,'y':(_0x550dee[_0x535788(0xd1)][0x0]['clientY']-_0x2df1bc[_0x535788(0x100)])*_0x1ac3fd}:{'x':(_0x550dee['clientX']-_0x2df1bc[_0x535788(0xe0)])*_0x44d14a,'y':(_0x550dee[_0x535788(0xde)]-_0x2df1bc[_0x535788(0x100)])*_0x1ac3fd};}const offsetX=padding,offsetY=padding;let grid,isDragging,startX,startY,currentX,currentY,selectedSquares,timeLeft,timerId;_0x4793e1(0x121)in navigator&&navigator[_0x4793e1(0x121)][_0x4793e1(0xda)](_0x4793e1(0x128))[_0x4793e1(0xf2)](_0x501490=>console['log'](_0x4793e1(0x12b),_0x501490))[_0x4793e1(0xdc)](_0x139da3=>console[_0x4793e1(0x12f)]('Service\x20Worker\x20registration\x20failed:',_0x139da3));function startGame(){const _0x3b475d=_0x4793e1,_0x38e7ef=document[_0x3b475d(0xd3)](_0x3b475d(0x10a));_0x38e7ef[_0x3b475d(0xfc)][_0x3b475d(0xfe)]=_0x3b475d(0xd5),overlay[_0x3b475d(0xfc)][_0x3b475d(0xfe)]=_0x3b475d(0xd5),initGame();}function initGame(){const _0x539b07=_0x4793e1;grid=Array[_0x539b07(0x104)]({'length':rows},(_0x1812fc,_0x5c057f)=>Array['from']({'length':cols},(_0x1c903d,_0x358754)=>new Square(offsetX+_0x358754*squareSize,offsetY+_0x5c057f*squareSize,squareSize))),timeLeft=0x78,isDragging=![],selectedSquares=[],drawGrid(),updateScore(),updateTimer(),sounds[_0x539b07(0x114)][_0x539b07(0x10b)]=!![],sounds[_0x539b07(0x114)]['play']();}class Square{constructor(_0x1f6274,_0x205d0e,_0x1dc2d7){const _0x1864d7=_0x4793e1;this['x']=_0x1f6274,this['y']=_0x205d0e,this[_0x1864d7(0xd0)]=_0x1dc2d7,this[_0x1864d7(0x12a)]=Math[_0x1864d7(0xf8)](Math[_0x1864d7(0x12c)]()*0x9)+0x1,this[_0x1864d7(0x119)]=!![];}[_0x4793e1(0xeb)](){const _0x436251=_0x4793e1;return{'cx':this['x']+this['size']/0x2,'cy':this['y']+this[_0x436251(0xd0)]/0x2};}[_0x4793e1(0x103)](_0x2a2aae='#fff'){const _0x4ec543=_0x4793e1;ctx['fillStyle']=_0x2a2aae,ctx['fillRect'](this['x'],this['y'],this[_0x4ec543(0xd0)],this[_0x4ec543(0xd0)]),ctx[_0x4ec543(0xcd)]='#000',ctx[_0x4ec543(0x115)](this['x'],this['y'],this['size'],this['size']),this[_0x4ec543(0x119)]&&(ctx[_0x4ec543(0xee)]=_0x4ec543(0x10c),ctx[_0x4ec543(0xef)]=this[_0x4ec543(0xd0)]/0x2+_0x4ec543(0x133),ctx[_0x4ec543(0x134)]=_0x4ec543(0x120),ctx[_0x4ec543(0xec)]=_0x4ec543(0x11c),ctx[_0x4ec543(0xdb)](this[_0x4ec543(0x12a)],this['x']+this[_0x4ec543(0xd0)]/0x2,this['y']+this[_0x4ec543(0xd0)]/0x2));}}function drawGrid(_0x4500c1=[],_0x2ae779=_0x4793e1(0xe9)){const _0x304579=_0x4793e1;ctx[_0x304579(0xd6)](0x0,0x0,canvas[_0x304579(0x135)],canvas[_0x304579(0xfb)]),grid[_0x304579(0x112)](_0x1a424d=>_0x1a424d[_0x304579(0x112)](_0x54ade4=>{const _0x32665e=_0x304579,_0x33fe92=_0x4500c1['includes'](_0x54ade4);_0x54ade4[_0x32665e(0x103)](_0x33fe92?_0x2ae779:_0x32665e(0xe9));}));}function updateScore(){const _0x33606d=_0x4793e1,_0x289950=grid['flat']()[_0x33606d(0x11b)](_0x74b058=>!_0x74b058[_0x33606d(0x119)])[_0x33606d(0x116)];document[_0x33606d(0x118)](_0x33606d(0x125))['textContent']=_0x289950+'\x20수';}function updateTimer(){const _0x345689=_0x4793e1,_0x4114a3=Math[_0x345689(0xf8)](timeLeft/0x3c),_0x487331=timeLeft%0x3c;document[_0x345689(0x118)](_0x345689(0xd4))[_0x345689(0x10f)]=_0x345689(0xe3)+_0x4114a3+':'+_0x487331[_0x345689(0x11f)]()[_0x345689(0x12e)](0x2,'0');if(timeLeft>0x0)timeLeft--,setTimeout(updateTimer,0x3e8);else{const _0x577ed9=grid[_0x345689(0x130)]()['filter'](_0x5ef53f=>!_0x5ef53f[_0x345689(0x119)])['length'],_0x1b9996=document[_0x345689(0xd3)](_0x345689(0xd8));document[_0x345689(0xd3)](_0x345689(0xdf))[_0x345689(0xf0)]='재수하기',_0x1b9996['innerText']=_0x577ed9+'\x20수',overlay[_0x345689(0xfc)][_0x345689(0xfe)]=_0x345689(0x111),sounds[_0x345689(0x114)]['pause'](),sounds[_0x345689(0x114)]['currentTime']=0x0,sounds['over']['play']();}}function handleStart(_0x2b8644){const _0x197c59=_0x4793e1;_0x2b8644[_0x197c59(0x131)](),isDragging=!![];const _0x5667f0=getEventPos(_0x2b8644);startX=_0x5667f0['x'],startY=_0x5667f0['y'];}function handleMove(_0x1d190e){const _0x58b722=_0x4793e1;if(!isDragging)return;const _0x307693=getEventPos(_0x1d190e);currentX=_0x307693['x'],currentY=_0x307693['y'];const _0x483c36=Math['min'](startX,currentX),_0x1a735b=Math[_0x58b722(0xd2)](startX,currentX),_0x5a7475=Math[_0x58b722(0xf5)](startY,currentY),_0x5e3eda=Math[_0x58b722(0xd2)](startY,currentY);let _0x17c52b=0x0;selectedSquares=[],grid['forEach'](_0x4cf6db=>_0x4cf6db['forEach'](_0x4eafcd=>{const _0x4fc219=_0x58b722,{cx:_0x261028,cy:_0x94a024}=_0x4eafcd['getCenter']();_0x261028>=_0x483c36&&_0x261028<=_0x1a735b&&_0x94a024>=_0x5a7475&&_0x94a024<=_0x5e3eda&&_0x4eafcd[_0x4fc219(0x119)]&&(selectedSquares[_0x4fc219(0x126)](_0x4eafcd),_0x17c52b+=_0x4eafcd['value']);}));const _0x71d3b5=_0x17c52b===0xa?_0x58b722(0x11a):_0x58b722(0xe2);drawGrid(selectedSquares,_0x71d3b5),ctx[_0x58b722(0xcd)]=_0x58b722(0x101),ctx['lineWidth']=0x2,ctx['strokeRect'](startX,startY,currentX-startX,currentY-startY);}function handleEnd(){const _0x53a455=_0x4793e1;isDragging=![];let _0x57b060=selectedSquares['reduce']((_0x4e2cac,_0x59ddd2)=>_0x4e2cac+_0x59ddd2[_0x53a455(0x12a)],0x0);if(_0x57b060===0xa){selectedSquares[_0x53a455(0x112)](_0x14427c=>_0x14427c[_0x53a455(0x119)]=![]),updateScore();const _0x22a0bb=Math['floor'](Math['random']()*0x4),_0x4be90b=sounds['koEffect'][_0x22a0bb];_0x4be90b['play']();}drawGrid();}function _0x5cd3(){const _0x359f85=['flat','preventDefault','56733RaMGbs','px\x20Arial','textAlign','width','flexDirection','#info','423596eyByED','strokeStyle','mte','getBoundingClientRect','size','touches','max','querySelector','timer','none','clearRect','getContext','#overlay\x20>\x20.container\x20>\x20#overlayMessage','play','register','fillText','catch','500180fSSKOH','clientY','#startBtn','left','mousedown','#ddd','시간:\x20','touchend','classList','location','#overlay','#intro>img','#fff','Failed\x20to\x20copy\x20URL:\x20','getCenter','textBaseline','Game\x20URL\x20copied\x20to\x20clipboard!','fillStyle','font','innerText','#link','then','2823496SorNrj','transform','min','block','gameCanvas','floor','3412566okssMY','innerHeight','height','style','row','display','#intro','top','grey','mousemove','draw','from','transformOrigin','href','body','3054890hfoUTm','error','#pageNotFound','loop','#000','add','#error','textContent','clientX','flex','forEach','click','bgm','strokeRect','length','column','getElementById','active','#b0e57c','filter','middle','addEventListener','#copyGameUrl','toString','center','serviceWorker','1hnlrFO','opacity','writeText','score','push','2826754GxQbrZ','./service-worker.js','touchmove','value','Service\x20Worker\x20registered:','random','innerWidth','padStart','log'];_0x5cd3=function(){return _0x359f85;};return _0x5cd3();}canvas[_0x4793e1(0x11d)](_0x4793e1(0xe1),handleStart),canvas[_0x4793e1(0x11d)](_0x4793e1(0x102),handleMove),canvas[_0x4793e1(0x11d)]('mouseup',handleEnd),canvas[_0x4793e1(0x11d)]('touchstart',handleStart),canvas[_0x4793e1(0x11d)](_0x4793e1(0x129),handleMove),canvas[_0x4793e1(0x11d)](_0x4793e1(0xe4),handleEnd),document[_0x4793e1(0x107)]['addEventListener'](_0x4793e1(0x129),_0x5407b4=>{const _0x13ffa4=_0x4793e1;_0x5407b4[_0x13ffa4(0x131)]();},{'passive':![]});function copyGameUrl(){const _0x590cf9=_0x4793e1,_0x534a41=window[_0x590cf9(0xe6)][_0x590cf9(0x106)];navigator['clipboard'][_0x590cf9(0x124)](_0x534a41)[_0x590cf9(0xf2)](()=>{const _0x5e6f5d=_0x590cf9;alert(_0x5e6f5d(0xed));})[_0x590cf9(0xdc)](_0x516c58=>{const _0x3b57e3=_0x590cf9;console[_0x3b57e3(0x109)](_0x3b57e3(0xea),_0x516c58);});}function _0xade6(_0x1558dd,_0x2af168){const _0x5cd308=_0x5cd3();return _0xade6=function(_0xade69d,_0x9799b0){_0xade69d=_0xade69d-0xcb;let _0x3c20c5=_0x5cd308[_0xade69d];return _0x3c20c5;},_0xade6(_0x1558dd,_0x2af168);}const startBtn=document[_0x4793e1(0xd3)](_0x4793e1(0xdf));startBtn[_0x4793e1(0x11d)](_0x4793e1(0x113),()=>{startGame();});const copyGameBtn=document[_0x4793e1(0xd3)](_0x4793e1(0x11e));copyGameBtn['addEventListener']('click',()=>{copyGameUrl();});
