const _0x316d97=_0x5b7e;(function(_0x40067e,_0x45594b){const _0x1c01d1=_0x5b7e,_0x3d7141=_0x40067e();while(!![]){try{const _0x10caa7=parseInt(_0x1c01d1(0x237))/0x1*(-parseInt(_0x1c01d1(0x1e1))/0x2)+parseInt(_0x1c01d1(0x229))/0x3+parseInt(_0x1c01d1(0x1f2))/0x4+-parseInt(_0x1c01d1(0x212))/0x5*(-parseInt(_0x1c01d1(0x1ee))/0x6)+-parseInt(_0x1c01d1(0x225))/0x7*(-parseInt(_0x1c01d1(0x1d6))/0x8)+parseInt(_0x1c01d1(0x1f0))/0x9+-parseInt(_0x1c01d1(0x23b))/0xa*(parseInt(_0x1c01d1(0x20c))/0xb);if(_0x10caa7===_0x45594b)break;else _0x3d7141['push'](_0x3d7141['shift']());}catch(_0x56404c){_0x3d7141['push'](_0x3d7141['shift']());}}}(_0x4458,0x196be));import{sounds}from'./modules/sounds.js';const canvas=document[_0x316d97(0x21b)](_0x316d97(0x200)),ctx=canvas[_0x316d97(0x215)]('2d'),rows=0xa,cols=0x11,squareSize=0x32,padding=squareSize;canvas['width']=cols*squareSize+padding*0x2,canvas['height']=rows*squareSize+padding*0x2;let scale=0x1;const link=document[_0x316d97(0x218)]('#link');link[_0x316d97(0x1fa)](_0x316d97(0x240),()=>{const _0x1bbbab=_0x316d97;document['querySelector'](_0x1bbbab(0x202))['style']['transform']=_0x1bbbab(0x1e4),sounds[_0x1bbbab(0x239)][_0x1bbbab(0x222)](),setTimeout(()=>{const _0x4a1d41=_0x1bbbab;document['querySelector'](_0x4a1d41(0x202))[_0x4a1d41(0x21c)]['opacity']=0x0,document['querySelector'](_0x4a1d41(0x1f5))['classList'][_0x4a1d41(0x220)](_0x4a1d41(0x223)),document[_0x4a1d41(0x218)](_0x4a1d41(0x1f5))[_0x4a1d41(0x21c)][_0x4a1d41(0x22a)]=0x0,document[_0x4a1d41(0x218)]('#error')[_0x4a1d41(0x1fe)]='',document[_0x4a1d41(0x218)](_0x4a1d41(0x201))[_0x4a1d41(0x1fe)]='';},0x3e8),setTimeout(()=>{const _0x857500=_0x1bbbab;document[_0x857500(0x218)]('#overlay')[_0x857500(0x21c)][_0x857500(0x22a)]=0x1,document[_0x857500(0x218)](_0x857500(0x202))[_0x857500(0x21c)][_0x857500(0x22a)]=0x0,document[_0x857500(0x218)](_0x857500(0x1ef))[_0x857500(0x213)][_0x857500(0x220)](_0x857500(0x21d));},0x44c),setTimeout(()=>{const _0x53b530=_0x1bbbab;document[_0x53b530(0x218)](_0x53b530(0x1f5))[_0x53b530(0x21c)][_0x53b530(0x1dd)]=_0x53b530(0x219),document[_0x53b530(0x218)](_0x53b530(0x202))[_0x53b530(0x21c)][_0x53b530(0x1dd)]=_0x53b530(0x219);},0x2328);});function updateScale(){const _0x56d45c=_0x316d97;scale=Math[_0x56d45c(0x1da)](0x1,window[_0x56d45c(0x203)]/canvas[_0x56d45c(0x22e)],window[_0x56d45c(0x233)]/canvas[_0x56d45c(0x1d7)]),canvas[_0x56d45c(0x21c)][_0x56d45c(0x21f)]=_0x56d45c(0x23a)+scale+')',canvas[_0x56d45c(0x21c)][_0x56d45c(0x1eb)]=_0x56d45c(0x242),console[_0x56d45c(0x1e9)](window['innerWidth']>window[_0x56d45c(0x233)]?_0x56d45c(0x22c):'column');const _0x3d7c06=document['querySelector']('#info');_0x3d7c06[_0x56d45c(0x21c)][_0x56d45c(0x1de)]=window[_0x56d45c(0x203)]>window[_0x56d45c(0x233)]?'row':_0x56d45c(0x208);if(window[_0x56d45c(0x233)]<0x1c2){const _0x6d0c6b=document[_0x56d45c(0x218)]('#container');_0x6d0c6b[_0x56d45c(0x21c)][_0x56d45c(0x1dd)]=_0x56d45c(0x1ff),canvas[_0x56d45c(0x21c)]['transform']='scale(0.5)',canvas[_0x56d45c(0x21c)]['transformOrigin']=_0x56d45c(0x238);}}window[_0x316d97(0x1fa)](_0x316d97(0x244),updateScale),updateScale();function getEventPos(_0x2e4d9f){const _0x1c5aa7=_0x316d97,_0x3fafce=canvas['getBoundingClientRect'](),_0x1e2a0a=canvas['width']/_0x3fafce[_0x1c5aa7(0x22e)],_0xdcfdf2=canvas[_0x1c5aa7(0x1d7)]/_0x3fafce['height'];return _0x2e4d9f[_0x1c5aa7(0x1fb)]?{'x':(_0x2e4d9f[_0x1c5aa7(0x1fb)][0x0][_0x1c5aa7(0x226)]-_0x3fafce[_0x1c5aa7(0x23e)])*_0x1e2a0a,'y':(_0x2e4d9f['touches'][0x0][_0x1c5aa7(0x1ea)]-_0x3fafce[_0x1c5aa7(0x238)])*_0xdcfdf2}:{'x':(_0x2e4d9f[_0x1c5aa7(0x226)]-_0x3fafce[_0x1c5aa7(0x23e)])*_0x1e2a0a,'y':(_0x2e4d9f['clientY']-_0x3fafce['top'])*_0xdcfdf2};}function _0x4458(){const _0x3e0b9e=['intro','scale(','50qVOgsu','timer','fillText','left','writeText','click','toString','center','currentTime','resize','serviceWorker','touchmove','active','18760kAdHYJ','height','Service\x20Worker\x20registration\x20failed:','mouseup','min','.mp3','preventDefault','display','flexDirection','size','bgm','364jQvQLK','random','padStart','translateX(0)','touchstart','lineWidth','push','px\x20Arial','log','clientY','transformOrigin','textAlign','href','825834rVcIsO','#intro>img','1704987bdtSyH','strokeRect','166488mQImiu','from','length','#pageNotFound','./service-worker.js','#ddd','score','forEach','addEventListener','touches','시간:\x20','strokeStyle','innerText','block','gameCanvas','#link','#intro','innerWidth','body','#copyGameUrl','clipboard','loop','column','value','fillStyle','draw','445951gSwTMz','error','includes','floor','#b0e57c','then','5JANwTB','classList','fillRect','getContext','max','grey','querySelector','none','catch','getElementById','style','mte','Failed\x20to\x20copy\x20URL:\x20','transform','add','#overlay\x20>\x20.container\x20>\x20#overlayMessage','play','target','filter','196blvZEu','clientX','#fff','register','168315TUiirf','opacity','Game\x20URL\x20copied\x20to\x20clipboard!','row','#startBtn','width','getCenter','flat','/sounds/nice','#000','innerHeight','font','clearRect','textContent','1009eOxccK','top'];_0x4458=function(){return _0x3e0b9e;};return _0x4458();}const offsetX=padding,offsetY=padding;let grid,isDragging,startX,startY,currentX,currentY,selectedSquares,timeLeft,timerId;_0x316d97(0x245)in navigator&&navigator[_0x316d97(0x245)][_0x316d97(0x228)](_0x316d97(0x1f6))['then'](_0x1a275c=>console[_0x316d97(0x1e9)]('Service\x20Worker\x20registered:',_0x1a275c))[_0x316d97(0x21a)](_0x72f01f=>console[_0x316d97(0x1e9)](_0x316d97(0x1d8),_0x72f01f));function _0x5b7e(_0x1667eb,_0x350781){const _0x44587f=_0x4458();return _0x5b7e=function(_0x5b7e9e,_0x4110a2){_0x5b7e9e=_0x5b7e9e-0x1d5;let _0x3337f6=_0x44587f[_0x5b7e9e];return _0x3337f6;},_0x5b7e(_0x1667eb,_0x350781);}function startGame(){const _0x5935f6=_0x316d97,_0x1015f6=document['querySelector']('#pageNotFound');_0x1015f6['style'][_0x5935f6(0x1dd)]='none',overlay[_0x5935f6(0x21c)]['display']=_0x5935f6(0x219),initGame();}function initGame(){const _0x39a230=_0x316d97;grid=Array[_0x39a230(0x1f3)]({'length':rows},(_0x369d68,_0x8229bb)=>Array[_0x39a230(0x1f3)]({'length':cols},(_0x1c74ef,_0x270bce)=>new Square(offsetX+_0x270bce*squareSize,offsetY+_0x8229bb*squareSize,squareSize))),timeLeft=0x78,isDragging=![],selectedSquares=[],drawGrid(),updateScore(),updateTimer(),sounds['bgm'][_0x39a230(0x207)]=!![],sounds[_0x39a230(0x1e0)][_0x39a230(0x222)]();}class Square{constructor(_0x24973d,_0x409f4e,_0x2c3cb8){const _0x373e6a=_0x316d97;this['x']=_0x24973d,this['y']=_0x409f4e,this[_0x373e6a(0x1df)]=_0x2c3cb8,this['value']=Math[_0x373e6a(0x20f)](Math[_0x373e6a(0x1e2)]()*0x9)+0x1,this[_0x373e6a(0x1d5)]=!![];}['getCenter'](){const _0x261e6c=_0x316d97;return{'cx':this['x']+this['size']/0x2,'cy':this['y']+this[_0x261e6c(0x1df)]/0x2};}['draw'](_0x1398d0=_0x316d97(0x227)){const _0xfa7257=_0x316d97;ctx[_0xfa7257(0x20a)]=_0x1398d0,ctx[_0xfa7257(0x214)](this['x'],this['y'],this[_0xfa7257(0x1df)],this['size']),ctx[_0xfa7257(0x1fd)]=_0xfa7257(0x232),ctx[_0xfa7257(0x1f1)](this['x'],this['y'],this['size'],this['size']),this[_0xfa7257(0x1d5)]&&(ctx['fillStyle']='#000',ctx[_0xfa7257(0x234)]=this['size']/0x2+_0xfa7257(0x1e8),ctx[_0xfa7257(0x1ec)]=_0xfa7257(0x242),ctx['textBaseline']='middle',ctx[_0xfa7257(0x23d)](this[_0xfa7257(0x209)],this['x']+this[_0xfa7257(0x1df)]/0x2,this['y']+this[_0xfa7257(0x1df)]/0x2));}}function drawGrid(_0x570153=[],_0x4e396b='#fff'){const _0x3076a7=_0x316d97;ctx[_0x3076a7(0x235)](0x0,0x0,canvas[_0x3076a7(0x22e)],canvas['height']),grid[_0x3076a7(0x1f9)](_0x229d62=>_0x229d62[_0x3076a7(0x1f9)](_0x4ac1d2=>{const _0x2d739d=_0x3076a7,_0x560f3d=_0x570153[_0x2d739d(0x20e)](_0x4ac1d2);_0x4ac1d2[_0x2d739d(0x20b)](_0x560f3d?_0x4e396b:_0x2d739d(0x227));}));}function updateScore(){const _0x465c75=_0x316d97,_0x51f0f6=grid[_0x465c75(0x230)]()[_0x465c75(0x224)](_0xa36094=>!_0xa36094['active'])[_0x465c75(0x1f4)];document[_0x465c75(0x21b)](_0x465c75(0x1f8))[_0x465c75(0x236)]=_0x51f0f6+'\x20수';}function updateTimer(){const _0x142503=_0x316d97,_0x33bd1a=Math[_0x142503(0x20f)](timeLeft/0x3c),_0x3aa91e=timeLeft%0x3c;document[_0x142503(0x21b)](_0x142503(0x23c))[_0x142503(0x236)]=_0x142503(0x1fc)+_0x33bd1a+':'+_0x3aa91e[_0x142503(0x241)]()[_0x142503(0x1e3)](0x2,'0');if(timeLeft>0x0)timeLeft--,setTimeout(updateTimer,0x3e8);else{const _0x23f80b=grid['flat']()[_0x142503(0x224)](_0x12897f=>!_0x12897f[_0x142503(0x1d5)])[_0x142503(0x1f4)],_0xbf5835=document[_0x142503(0x218)](_0x142503(0x221));document['querySelector'](_0x142503(0x22d))[_0x142503(0x1fe)]='재수하기',_0xbf5835[_0x142503(0x1fe)]=_0x23f80b+'\x20수',overlay[_0x142503(0x21c)][_0x142503(0x1dd)]='flex',sounds[_0x142503(0x1e0)]['pause'](),sounds[_0x142503(0x1e0)][_0x142503(0x243)]=0x0,sounds['over'][_0x142503(0x222)]();}}function handleStart(_0x2adc4a){const _0x43c130=_0x316d97;_0x2adc4a[_0x43c130(0x1dc)](),isDragging=!![];const _0x5be5e1=getEventPos(_0x2adc4a);startX=_0x5be5e1['x'],startY=_0x5be5e1['y'];}function handleMove(_0x3644bd){const _0x230fea=_0x316d97;if(!isDragging)return;const _0x1709d0=getEventPos(_0x3644bd);currentX=_0x1709d0['x'],currentY=_0x1709d0['y'];const _0x1ba871=Math[_0x230fea(0x1da)](startX,currentX),_0x2abc50=Math[_0x230fea(0x216)](startX,currentX),_0x128b9b=Math[_0x230fea(0x1da)](startY,currentY),_0x3cad3a=Math[_0x230fea(0x216)](startY,currentY);let _0x13ce1b=0x0;selectedSquares=[],grid[_0x230fea(0x1f9)](_0x322054=>_0x322054[_0x230fea(0x1f9)](_0x4db0aa=>{const _0x26a4a4=_0x230fea,{cx:_0x2e4709,cy:_0x19f2ab}=_0x4db0aa[_0x26a4a4(0x22f)]();_0x2e4709>=_0x1ba871&&_0x2e4709<=_0x2abc50&&_0x19f2ab>=_0x128b9b&&_0x19f2ab<=_0x3cad3a&&_0x4db0aa[_0x26a4a4(0x1d5)]&&(selectedSquares[_0x26a4a4(0x1e7)](_0x4db0aa),_0x13ce1b+=_0x4db0aa[_0x26a4a4(0x209)]);}));const _0x490c64=_0x13ce1b===0xa?_0x230fea(0x210):_0x230fea(0x1f7);drawGrid(selectedSquares,_0x490c64),ctx[_0x230fea(0x1fd)]=_0x230fea(0x217),ctx[_0x230fea(0x1e6)]=0x2,ctx['strokeRect'](startX,startY,currentX-startX,currentY-startY);}function handleEnd(){const _0x5aad15=_0x316d97;isDragging=![];let _0x473fa1=selectedSquares['reduce']((_0x36ed20,_0x1d8dd2)=>_0x36ed20+_0x1d8dd2['value'],0x0);if(_0x473fa1===0xa){selectedSquares[_0x5aad15(0x1f9)](_0x56c819=>_0x56c819['active']=![]),updateScore();const _0x4206ea=Math[_0x5aad15(0x20f)](Math[_0x5aad15(0x1e2)]()*0x4)+0x1,_0x2b5ec9=new Audio(_0x5aad15(0x231)+_0x4206ea+_0x5aad15(0x1db));_0x2b5ec9[_0x5aad15(0x222)]();}drawGrid();}canvas[_0x316d97(0x1fa)]('mousedown',handleStart),canvas[_0x316d97(0x1fa)]('mousemove',handleMove),canvas[_0x316d97(0x1fa)](_0x316d97(0x1d9),handleEnd),canvas[_0x316d97(0x1fa)](_0x316d97(0x1e5),handleStart),canvas['addEventListener'](_0x316d97(0x246),handleMove),canvas['addEventListener']('touchend',handleEnd),document[_0x316d97(0x204)]['addEventListener'](_0x316d97(0x246),_0x590bb4=>{const _0x2e261b=_0x316d97;_0x590bb4[_0x2e261b(0x1dc)]();},{'passive':![]});function copyGameUrl(){const _0x69e371=_0x316d97,_0xe467c4=window['location'][_0x69e371(0x1ed)];navigator[_0x69e371(0x206)][_0x69e371(0x23f)](_0xe467c4)[_0x69e371(0x211)](()=>{const _0x290268=_0x69e371;alert(_0x290268(0x22b));})['catch'](_0x4956e5=>{const _0x10a61c=_0x69e371;console[_0x10a61c(0x20d)](_0x10a61c(0x21e),_0x4956e5);});}const startBtn=document['querySelector']('#startBtn');startBtn[_0x316d97(0x1fa)](_0x316d97(0x240),()=>{startGame();});const copyGameBtn=document[_0x316d97(0x218)](_0x316d97(0x205));copyGameBtn[_0x316d97(0x1fa)]('click',()=>{copyGameUrl();});
